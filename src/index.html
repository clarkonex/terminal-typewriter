<!doctype html>
<html lang="de">
  <head>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="styles.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Terminal Typewriter</title>
    <script src="/html2canvas.min.js"></script>
    <script type="module" src="/main.js" defer></script>
  </head>

  <body data-theme="vintage-brown">
    <!-- SVG Filter for CRT Barrel Distortion -->
    <svg class="crt-filter-svg">
      <defs>
        <filter id="crt-warp">
          <feFlood flood-color="black" result="black"/>
          <feDisplacementMap in="SourceGraphic" in2="black" scale="0" xChannelSelector="R" yChannelSelector="G"/>
        </filter>
        <!-- Newspaper grain filter -->
        <filter id="newspaper-grain" x="0%" y="0%" width="100%" height="100%">
          <feColorMatrix type="saturate" values="0" result="gray"/>
          <feComponentTransfer result="contrast">
            <feFuncR type="linear" slope="1.4" intercept="-0.15"/>
            <feFuncG type="linear" slope="1.4" intercept="-0.15"/>
            <feFuncB type="linear" slope="1.4" intercept="-0.15"/>
          </feComponentTransfer>
          <feTurbulence type="fractalNoise" baseFrequency="0.7" numOctaves="3" result="noise"/>
          <feColorMatrix in="noise" type="matrix" values="1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 0.15 0" result="noiseAlpha"/>
          <feBlend in="contrast" in2="noiseAlpha" mode="multiply" result="grainy"/>
        </filter>
      </defs>
    </svg>

    <!-- CRT Warp Container -->
    <div class="crt-screen">
      <!-- CRT Overlay -->
      <div class="crt-overlay"></div>

    <!-- Control Bar -->
    <header class="control-bar">
      <div class="control-group">
        <label for="theme-select">Theme</label>
        <select id="theme-select">
          <option value="vintage-brown">Vintage Braun</option>
          <option value="retro-orange">Retro Orange</option>
          <option value="terminal-green">Terminal Grün</option>
        </select>
      </div>

      <div class="control-group">
        <label for="font-select">Font</label>
        <select id="font-select">
          <option value="special-elite">Special Elite</option>
          <option value="american-typewriter">American Typewriter</option>
          <option value="adler">Adler</option>
          <option value="remington">Remington</option>
          <option value="1942">1942</option>
          <option value="berlin-email">Berlin Email</option>
          <option value="cutmeout">CutMeOut</option>
          <option value="facets">Facets</option>
          <option value="hofstaetten">Hofstaetten</option>
          <option value="zent">Zent</option>
        </select>
      </div>

      <div class="control-group">
        <label for="volume-slider">Lautstärke</label>
        <input type="range" id="volume-slider" min="0" max="100" value="50" />
      </div>

      <div class="control-group">
        <button id="sound-toggle" class="icon-btn" title="Sound an/aus">
          <span class="sound-on">♪</span>
          <span class="sound-off" style="display:none">♪̸</span>
        </button>
        <button id="new-page-btn" class="icon-btn" title="Neue Seite">
          <span>&#128220;</span>
        </button>
      </div>

      <div class="control-group spacer"></div>

      <div class="control-group">
        <button id="save-btn" class="text-btn" title="Save text">Save TXT</button>
        <button id="export-png-btn" class="text-btn" title="Export as PNG">Export PNG</button>
        <button id="exit-btn" class="text-btn danger" title="Exit">Exit</button>
      </div>
    </header>

    <!-- Editor -->
    <main class="editor-container">
      <div id="pages-container">
        <div class="page active" data-page="1">
          <div class="page-editor" contenteditable="true" spellcheck="false">
            <div class="line" data-font="special-elite"></div>
          </div>
        </div>
      </div>
      <!-- Page Navigation -->
      <div class="page-navigation">
        <button id="prev-page-btn" class="nav-btn" title="Vorherige Seite" disabled>&#9664;</button>
        <span id="page-indicator">Seite 1 / 1</span>
        <button id="next-page-btn" class="nav-btn" title="Nächste Seite" disabled>&#9654;</button>
      </div>
    </main>

    <!-- Status Bar -->
    <footer class="status-bar">
      <span id="char-count">0 Zeichen</span>
      <span id="word-count">0 Wörter</span>
      <span class="app-name">Terminal Typewriter — 1937</span>
    </footer>

    </div><!-- end crt-screen -->
  </body>
</html>
